<div class="max-w-4xl mx-auto px-4">

  <!-- マイページ見出し -->
  <div style="margin-top: 40px; margin-bottom: 32px;">
    <h1 style="font-size: 1.875rem; font-weight: 700; color: #111827;">
      マイページ
    </h1>
  </div>

  <!-- 🏆 ベストスコア（勝ち飯を内包・左寄せ・囲いなし） -->
  <section style="margin-bottom: 32px;">
    <h2 style="font-size: 1.125rem; font-weight: 700; margin-bottom: 4px;">
      🏆 ベストスコア
    </h2>

    <% if @best_round.present? %>
      <!-- スコア + Putts -->
      <p
        style="
          font-size: 4rem;
          font-weight: 800;
          color: var(--color-brandGreen);
          line-height: 1;
          margin: 0;
        "
      >
        <%= @best_score %>
        <span
          style="
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--color-brandGreen);
            margin-left: 8px;
            vertical-align: middle;
          "
        >
          (Putts: <%= @best_round.total_putts %>)
        </span>
      </p>

      <!-- 日付・ゴルフ場 -->
      <p
        style="
          font-size: 0.875rem;
          color: #6b7280;
          line-height: 1.3;
          margin-top: 4px;
        "
      >
        <%= @best_round.date.strftime("%Y年%m月%d日") %><br>
        <%= @best_round.course_name %>
      </p>

      <!-- 🍴 勝ち飯 -->
      <h3 style="font-size: 1rem; font-weight: 600; margin: 16px 0 8px;">
        🍴 勝ち飯
      </h3>

      <% if @winning_lunches.any? %>
        <% @winning_lunches.each do |lunch| %>
          <div style="margin-bottom: 12px;">
            <% if lunch.image.attached? %>
              <%= image_tag lunch.image.variant(resize_to_fill: [256, 160]),
                    style: "display:block; margin-bottom:8px; border-radius:8px;" %>
            <% end %>

            <p style="font-size: 0.875rem; color: #374151;">
              <strong>ランチコメント：</strong>
              <%= lunch.comment.presence || "コメントはまだありません" %>
            </p>
          </div>
        <% end %>
      <% else %>
        <p style="font-size: 0.875rem; color: #6b7280;">
          勝ち飯はまだ登録されていません
        </p>
      <% end %>

    <% else %>
      <p style="font-size: 0.875rem; color: #6b7280;">
        まだスコアが登録されていません【TEST】 
      </p>
    <% end %>
  </section>

  <!-- → このラウンドを見る -->
  <% if @best_round.present? %>
    <div style="margin-bottom: 24px;">
      <%= link_to "→ このラウンドを見る",
                  round_path(@best_round),
                  style: "font-size:0.875rem; color:#2563eb; text-decoration:underline;" %>
    </div>
  <% end %>

  <!-- 📋 ラウンド一覧 -->
  <div style="margin-bottom: 24px;">
    <%= link_to "📋 ラウンド一覧へ",
                rounds_path,
                style: "font-size:0.875rem; color:#374151; text-decoration:underline;" %>
  </div>

  <!-- ⛳ ラウンド開始 -->
  <div style="margin-top: 48px; margin-bottom: 64px;">
    <%= link_to "⛳ ラウンド開始",
                new_round_path,
                style: "
                  font-size: 1.6rem;
                  font-weight: 700;
                  color: #111827;
                  text-decoration: underline;
                " %>
  </div>

</div>
