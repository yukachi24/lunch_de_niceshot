<div class="max-w-4xl mx-auto px-4">

  <!-- マイページ見出し -->
  <div style="margin-top: 40px; margin-bottom: 32px;">
    <h1 style="font-size: 1.875rem; font-weight: 700; color: #111827;">
      マイページ
    </h1>
  </div>

  <!-- 🏆 ベストスコア -->
  <section style="margin-bottom: 32px;">
    <h2 style="font-size: 1.125rem; font-weight: 700; margin-bottom: 12px;">
      🏆 ベストスコア
    </h2>

    <% if @best_rounds.present? %>
      <% @best_rounds.each do |round| %>
        <div style="margin-bottom: 32px;">

          <!-- スコア（Putts） -->
          <p
            style="
              font-size: 3rem;
              font-weight: 800;
              color: var(--color-brandGreen);
              line-height: 1;
              margin: 0;
            "
          >
            <%= round.total_score %>
            <span
              style="
                font-size: 1.4rem;
                font-weight: 600;
                color: var(--color-brandGreen);
                margin-left: 8px;
                vertical-align: middle;
              "
            >
              (Putts: <%= round.total_putts %>)
            </span>
          </p>

          <!-- 日付・ゴルフ場 -->
          <p
            style="
              font-size: 0.875rem;
              color: #6b7280;
              line-height: 1.3;
              margin-top: 4px;
            "
          >
            <%= round.date.strftime("%Y年%m月%d日") %><br>
            <%= round.course_name %>
          </p>

          <!-- 🍴 勝ち飯 -->
          <h3 style="font-size: 0.95rem; font-weight: 600; margin: 12px 0 6px;">
            🍴 勝ち飯
          </h3>

          <% if round.lunch.present? %>
            <% if round.lunch.image.attached? %>
              <%= image_tag round.lunch.image.variant(resize_to_fill: [256, 160]),
                            style: "display:block; margin-bottom:8px; border-radius:8px;" %>
            <% end %>

            <p style="font-size: 0.875rem; color: #374151;">
              <strong>ランチコメント：</strong>
              <%= round.lunch.comment.presence || "コメントはまだありません" %>
            </p>
          <% else %>
            <p style="font-size: 0.875rem; color: #6b7280;">
              勝ち飯はまだ登録されていません
            </p>
          <% end %>

          <!-- → このラウンドを見る -->
          <div style="margin-top: 8px;">
            <%= link_to "→ このラウンドを見る",
                        round_path(round),
                        style: "font-size:0.75rem; color:#2563eb; text-decoration:underline;" %>
          </div>

        </div>
      <% end %>
    <% else %>
      <p style="font-size: 0.875rem; color: #6b7280;">
        まだスコアが登録されていません
      </p>
    <% end %>
  </section>

  <!-- 📋 ラウンド一覧 -->
  <div style="margin-bottom: 24px;">
    <%= link_to "📋 ラウンド一覧へ",
                rounds_path,
                style: "font-size:0.875rem; color:#374151; text-decoration:underline;" %>
  </div>

  <!-- ⛳ ラウンド開始 -->
  <div style="margin-top: 48px; margin-bottom: 64px;">
    <%= link_to "⛳ ラウンド開始",
                new_round_path,
                style: "font-size:1.6rem; font-weight:700; color:#111827; text-decoration:underline;" %>
  </div>

</div>
